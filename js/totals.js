var totals = [
  {
    "year": 2000,
    "China": 197431,
    "United States": 327271,
    "India": 61564,
    "Other Asia": 85460,
    "EU28": 194555,
    "Former USSR": 83551,
    "Non-EU Europe": 17001,
    "Latin America": 9915,
    "Africa and Middle East": 45382,
    "Other": 43812,
    "All": 1065942
  },
  {
    "year": 2001,
    "China": 211341,
    "United States": 328349,
    "India": 62599,
    "Other Asia": 88614,
    "EU28": 194448,
    "Former USSR": 83766,
    "Non-EU Europe": 17001,
    "Latin America": 9960,
    "Africa and Middle East": 46996,
    "Other": 44884,
    "All": 1087958
  },
  {
    "year": 2002,
    "China": 220504,
    "United States": 329100,
    "India": 64679,
    "Other Asia": 97117,
    "EU28": 195806,
    "Former USSR": 83856,
    "Non-EU Europe": 17001,
    "Latin America": 9960,
    "Africa and Middle East": 46996,
    "Other": 45325,
    "All": 1110344
  },
  {
    "year": 2003,
    "China": 243297,
    "United States": 329188,
    "India": 66414,
    "Other Asia": 100757,
    "EU28": 196224,
    "Former USSR": 84084,
    "Non-EU Europe": 18721,
    "Latin America": 9960,
    "Africa and Middle East": 46996,
    "Other": 46211,
    "All": 1141852
  },
  {
    "year": 2004,
    "China": 272566,
    "United States": 329773,
    "India": 66931,
    "Other Asia": 105327,
    "EU28": 196152,
    "Former USSR": 84234,
    "Non-EU Europe": 18721,
    "Latin America": 9960,
    "Africa and Middle East": 46996,
    "Other": 46212,
    "All": 1176872
  },
  {
    "year": 2005,
    "China": 319381,
    "United States": 330207,
    "India": 70230,
    "Other Asia": 106566,
    "EU28": 196337,
    "Former USSR": 84654,
    "Non-EU Europe": 19216,
    "Latin America": 9960,
    "Africa and Middle East": 47031,
    "Other": 46679,
    "All": 1230261
  },
  {
    "year": 2006,
    "China": 400523,
    "United States": 330689,
    "India": 72586,
    "Other Asia": 111789,
    "EU28": 194957,
    "Former USSR": 84954,
    "Non-EU Europe": 20231,
    "Latin America": 9960,
    "Africa and Middle East": 47031,
    "Other": 46680,
    "All": 1319400
  },
  {
    "year": 2007,
    "China": 472905,
    "United States": 332021,
    "India": 77856,
    "Other Asia": 116648,
    "EU28": 194137,
    "Former USSR": 85074,
    "Non-EU Europe": 20308,
    "Latin America": 10048,
    "Africa and Middle East": 47121,
    "Other": 47431,
    "All": 1403549
  },
  {
    "year": 2008,
    "China": 525789,
    "United States": 333605,
    "India": 83127,
    "Other Asia": 118952.1,
    "EU28": 193285,
    "Former USSR": 85074,
    "Non-EU Europe": 20308,
    "Latin America": 10048,
    "Africa and Middle East": 47121,
    "Other": 47432,
    "All": 1464741.1
  },
  {
    "year": 2009,
    "China": 576114,
    "United States": 335638,
    "India": 88679,
    "Other Asia": 124467.1,
    "EU28": 193922,
    "Former USSR": 85824,
    "Non-EU Europe": 20546,
    "Latin America": 10200,
    "Africa and Middle East": 47121,
    "Other": 47899,
    "All": 1530410.1
  },
  {
    "year": 2010,
    "China": 630238,
    "United States": 339066,
    "India": 100037,
    "Other Asia": 127515.1,
    "EU28": 193883,
    "Former USSR": 85824,
    "Non-EU Europe": 21811,
    "Latin America": 11711,
    "Africa and Middle East": 47181,
    "Other": 46091,
    "All": 1603357.1
  },
  {
    "year": 2011,
    "China": 689093,
    "United States": 340024,
    "India": 115103,
    "Other Asia": 134312.1,
    "EU28": 191469,
    "Former USSR": 86074,
    "Non-EU Europe": 22411,
    "Latin America": 12592,
    "Africa and Middle East": 47331,
    "Other": 45482,
    "All": 1683891.1
  },
  {
    "year": 2012,
    "China": 737723,
    "United States": 333658,
    "India": 132887,
    "Other Asia": 138867.1,
    "EU28": 186853,
    "Former USSR": 86613,
    "Non-EU Europe": 22411,
    "Latin America": 13917,
    "Africa and Middle East": 47331,
    "Other": 44472,
    "All": 1744732.1
  },
  {
    "year": 2013,
    "China": 786562,
    "United States": 328643,
    "India": 151039,
    "Other Asia": 144440.1,
    "EU28": 179178,
    "Former USSR": 86078,
    "Non-EU Europe": 22739,
    "Latin America": 15305,
    "Africa and Middle East": 47631,
    "Other": 41087,
    "All": 1802702.1
  },
  {
    "year": 2014,
    "China": 815618,
    "United States": 324311,
    "India": 171460,
    "Other Asia": 150739.1,
    "EU28": 174457,
    "Former USSR": 87174,
    "Non-EU Europe": 24289,
    "Latin America": 15427,
    "Africa and Middle East": 48631,
    "Other": 39835,
    "All": 1851941.1
  },
  {
    "year": 2015,
    "China": 874822,
    "United States": 302840,
    "India": 192001,
    "Other Asia": 160847.1,
    "EU28": 172393,
    "Former USSR": 87511,
    "Non-EU Europe": 25429,
    "Latin America": 15933,
    "Africa and Middle East": 49455,
    "Other": 39246,
    "All": 1920477.1
  },
  {
    "year": 2016,
    "China": 916797,
    "United States": 287448,
    "India": 209936,
    "Other Asia": 171675.1,
    "EU28": 163846,
    "Former USSR": 88878,
    "Non-EU Europe": 27579,
    "Latin America": 16984,
    "Africa and Middle East": 49755,
    "Other": 38487,
    "All": 1971385.1
  },
  {
    "year": 2017,
    "China": 944776,
    "United States": 278649,
    "India": 214989,
    "Other Asia": 185306.1,
    "EU28": 158370,
    "Former USSR": 88983,
    "Non-EU Europe": 28899,
    "Latin America": 16538,
    "Africa and Middle East": 51693,
    "Other": 36648,
    "All": 2004851.1
  },
  {
    "year": 2018,
    "China": 972514,
    "United States": 261037,
    "India": 220670,
    "Other Asia": 191088.1,
    "EU28": 154790,
    "Former USSR": 88953,
    "Non-EU Europe": 29229,
    "Latin America": 17088,
    "Africa and Middle East": 52642,
    "Other": 36089,
    "All": 2024100.1
  },
  {
    "year": 2019,
    "China": 965416,
    "United States": 190819,
    "India": 220608,
    "Other Asia": 191088.1,
    "EU28": 61569,
    "Former USSR": 73609,
    "Non-EU Europe": 29229,
    "Latin America": 11120,
    "Africa and Middle East": 42352,
    "Other": 36089,
    "All": 1783292.1
  }
]

var construction = {
  "China": "128,650",
  "United States": "0",
  "India": "36,158",
  "Other Asia": "49,744",
  "EU28": "6,590",
  "Former USSR":"1,102",
  "Non-EU Europe":"800",
  "Latin America":"1,605",
  "Africa and Middle East":"10,940",
  "Other":"0",
  "All": "232,133"
}

var planned = {
  "China": "69,950",
  "United States": "0",
  "India": "57,800",
  "Other Asia": "127,969",
  "EU28": "8,880",
  "Former USSR":"5,740",
  "Non-EU Europe":"42,975",
  "Latin America":"4,176",
  "Africa and Middle East":"43,110",
  "Other":"0",
  "All": "306,651"
}

function updateTotal () {

    var yearSlider = document.getElementById('slider').value;
    region = document.getElementById('selectorRegion').value;
    var newArray;

    //console.log(yearSlider);
    //console.log(region);

    // get id from array using the dropdown variable
    //var total = totals.find(x => x.year === yearSlider).region;

    var newArray = totals.filter(function(x) {
      return x.year === parseInt(yearSlider);
    });

    //console.log(newArray);

    var total = newArray[0][region];
    total = parseInt(total);
    total = total.toLocaleString();

   document.getElementById('total').innerText = total;
    
}

function updateFuture () {

  region = document.getElementById('selectorRegion').value;

  var constructionTotal = construction[region];
  var plannedTotal = planned[region];

  // console.log(constructionTotal);
  // console.log(plannedTotal);

  document.getElementById('constructionTotal').innerText = constructionTotal;
  document.getElementById('plannedTotal').innerText = plannedTotal;

}

// show planned and construction in the future
document.getElementById('slider').addEventListener('input', function(e) {

  year = parseInt(e.target.value);

  if (year == 2019) {
    document.getElementById("construction").style.display = "inline";
    document.getElementById("planned").style.display = "inline";
  } else {
    document.getElementById("construction").style.display = "none";
    document.getElementById("planned").style.display = "none";
  }

});

